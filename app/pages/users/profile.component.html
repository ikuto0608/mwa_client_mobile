<StackLayout *ngIf="user" class="main-container" colSpan="3" row="0">
  <GridLayout columns="*,*,*" rows="auto,auto">
    <GridLayout col="0" colspan="3" row="0" columns="*" rows="auto,auto" class="header">
      <Label row="0" class="image"></Label>
      <Label row="1" [text]="user.name" class="name blue"></Label>
    </GridLayout>

    <GridLayout col="0" colspan="3" row="1" columns="*,*,*" rows="auto" class="content">
      <GridLayout col="0" row="0" columns="*" rows="*,*">
        <Label row="0" text="&#xe926;" class="icon blue"></Label>
        <Label row="1" [text]="examName" class="title blue" textWrap="true"></Label>
      </GridLayout>
      <GridLayout col="1" row="0" columns="*" rows="*,*">
        <Label row="0" text="&#xe99b;" class="icon blue"></Label>
        <Label row="1" [text]="averageScore" class="title blue" textWrap="true"></Label>
      </GridLayout>
      <GridLayout col="2" row="0" columns="*" rows="*,*">
        <Label row="0" text="&#xe950;" class="icon blue"></Label>
        <Label row="1" [text]="averageRecordTime | formatMMSSSS" class="title blue" textWrap="true"></Label>
      </GridLayout>
    </GridLayout>
  </GridLayout>

  <ScrollView *ngIf="!isDetailView && exams" orientation="vertical">
    <GridLayout columns="*,*,*,*,*" [rows]="getRows()" toggleNavButton class="exams">
      <Button *ngFor="let exam of exams; let indexOfTopic = index"
              (tap)="historyDetail(exam)"
              [col]="getCol(indexOfTopic)"
              [row]="getRow(indexOfTopic)"
              [text]="exam.name"
              [style]="getStyle(indexOfTopic)"
              class="exam base-color"
              textWrap="true"></Button>
    </GridLayout>
  </ScrollView>

  <GridLayout *ngIf="isDetailView && latestRecords" rows="auto,*,auto">
    <GridLayout row="0" columns="auto,auto,auto" class="history-title">
      <Label col="0" text="Score" class="score"></Label>
      <Label col="1" text="Record Time" class="record-time"></Label>
      <Label col="2" text="Date" class="record-date"></Label>
    </GridLayout>
    <ListView row="1" [items]="latestRecords" class="list-group history-list">
      <template let-record="item">
        <GridLayout columns="auto,auto,auto" class="list-group-item">
          <Label col="0" [text]="record.score" class="score"></Label>
          <Label col="1" [text]="record.record_time | formatMMSSSS" class="record-time"></Label>
          <Label col="2" [text]="record.created_at | date: 'MMM d, h:m a' " class="record-date"></Label>
        </GridLayout>
      </template>
    </ListView>
    <Button row="2" (tap)="historyList()" text="Back" class="sub-background-color base-color"></Button>
  </GridLayout>

</StackLayout>
